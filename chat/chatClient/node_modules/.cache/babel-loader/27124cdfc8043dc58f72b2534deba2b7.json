{"remainingRequest":"/Users/georgedekker/Movies/dev/chat/client/node_modules/babel-loader/lib/index.js!/Users/georgedekker/Movies/dev/chat/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/georgedekker/Movies/dev/chat/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/georgedekker/Movies/dev/chat/client/src/components/ChatInput.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/georgedekker/Movies/dev/chat/client/src/components/ChatInput.vue","mtime":1628113024963},{"path":"/Users/georgedekker/Movies/dev/chat/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/georgedekker/Movies/dev/chat/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/georgedekker/Movies/dev/chat/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/georgedekker/Movies/dev/chat/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vIGltcG9ydCB7IFNvY2tldCB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnOwppbXBvcnQgU29ja2V0aW9TZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL3NvY2tldGlvLnNlcnZpY2UnOyAvLyBjb25zb2xlLmxvZygndXNlciBmcm9tIFNvY2tldGlvU2VydmljZTogJytKU09OLnN0cmluZ2lmeShTb2NrZXRpb1NlcnZpY2UudXNlcikpCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXRJbnB1dCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXRNZXNzYWdlOiAnJywKICAgICAgcm9vbTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCksCiAgICAgIHVzZXJOYW1lOiAnJywKICAgICAgdXNlcjogU29ja2V0aW9TZXJ2aWNlLnVzZXIsCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBtZXNzYWdlczogW10KICAgIH07IC8vICAgLy8gcmV0dXJuIHRoaXMuY2hhdE1lc3NhZ2UKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGNyZWF0ZWQoKXsKICAgIC8vIGNvbnN0IHVzZXIgPSBTb2NrZXRpb1NlcnZpY2Uuc29ja2V0Q3JlYXRlZCgpCiAgICAvLyByZXR1cm4gdXNlcn0sCiAgICAvLyB1bm1vdW50ZWQoKXsKICAgIC8vIFNvY2tldGlvU2VydmljZS5kaXNjb25uZWN0KCkKICAgIC8vIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChjaGF0TWVzc2FnZSwgdXNlcikgewogICAgICAvLyBjb25zb2xlLmxvZygncmVjZWl2ZWQgbWVzc2FnZTogJytjaGF0TWVzc2FnZSsnIHVzZXI6ICcrdXNlci5uYW1lK3VzZXIudGltZVN0YW1wKQogICAgICAvLyB0aGlzLnVzZXIgPSBTb2NrZXRpb1NlcnZpY2UudXNlcgogICAgICB0aGlzLnVzZXIubmFtZSA9IHVzZXIubmFtZTsKICAgICAgdmFyIHJlY2VpdmVkID0gU29ja2V0aW9TZXJ2aWNlLnNlbmRNZXNzYWdlKGNoYXRNZXNzYWdlLCB0aGlzLnVzZXIpOwogICAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQgY2hhdElucHV0OiAnICsgSlNPTi5zdHJpbmdpZnkocmVjZWl2ZWQpKTsgLy8gdGhpcy5tZXNzYWdlQ2hhdCA9IGF3YWl0IFNvY2tldGlvU2VydmljZS5zZW5kTWVzc2FnZShjaGF0TWVzc2FnZSwgdGhpcy51c2VyKQogICAgICAvLyBjb25zb2xlLmxvZygndXNlciB0aGF0IHdhcyBzZW50OiAnK0pTT04uc3RyaW5naWZ5KHRoaXMudXNlcikpCiAgICAgIC8vIGNvbnNvbGUubG9nKCdtZXNzYWdlOiAnK0pTT04uc3RyaW5naWZ5KHRoaXMubWVzc2FnZUNoYXQubWVzc2FnZSkpCgogICAgICB0aGlzLnVzZXIgPSByZWNlaXZlZC51c2VyOwogICAgICB0aGlzLm1lc3NhZ2UgPSByZWNlaXZlZC5tZXNzYWdlOyAvLyB0aGlzLm1lc3NhZ2VzID0gW107CgogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goewogICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSwKICAgICAgICB1c2VyOiB0aGlzLnVzZXIKICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCdtZXNzYWdlQ2hhdDogJytKU09OLnN0cmluZ2lmeSh0aGlzLm1lc3NhZ2VDaGF0KSkKICAgICAgLy8gY29uc29sZS5sb2coJ3VzZXIgZnJvbSBTb2NrZXRpb1NlcnZpY2U6ICcrSlNPTi5zdHJpbmdpZnkoU29ja2V0aW9TZXJ2aWNlLnVzZXIpKQogICAgICAvLyB0aGlzLnVzZXIgPSBtZXNzYWdlQ2hhdC51c2VyLnRpbWVTdGFtcAogICAgICAvLyByZXR1cm4gdGhpcy5tZXNzYWdlcywgdGhpcy51c2VyCiAgICAgIC8vIGNvbnNvbGUubG9nKCdtZXNzYWdlczogJyt0aGlzLm1lc3NhZ2VDaGF0KQogICAgICAvLyBpZihtZXNzYWdlQ2hhdD8ubWVzc2FnZSl7CiAgICAgIC8vIGNoYXRNZXNzYWdlID0gbWVzc2FnZUNoYXQKICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gIGNoYXRNZXNzYWdlCiAgICAgIC8vIH0KCiAgICAgIHRoaXMuY2hhdE1lc3NhZ2UgPSAnJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRNZXNzYWdlJykuZm9jdXMoKTsgLy8gdGhpcy5tZXNzYWdlcy5wdXNoKHRoaXMubWVzc2FnZUNoYXQpCiAgICAgIC8vIHJldHVybiB7bWVzc2FnZTptZXNzYWdlLCBtZXNzYWdlczptZXNzYWdlc30KICAgIH0gLy8gcmVjZWl2ZU1lc3NhZ2U6KChjaGF0TWVzc2FnZSk9Pntzb2NrZXRpb1NlcnZpY2UucmVjZWl2ZU1lc3NhZ2UoY2hhdE1lc3NhZ2UpO2NvbnNvbGUubG9nKCdtZXNzYWdlOiAnK2NoYXRNZXNzYWdlKX0sJycpCgogIH0KfTs="},{"version":3,"sources":["/Users/georgedekker/Movies/dev/chat/client/src/components/ChatInput.vue"],"names":[],"mappings":";AAiBA;AACA,OAAO,eAAP,MAA4B,iCAA5B,C,CACA;;AACA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAGb,EAAA,IAHa,kBAGL;AACN,WAAO;AACL,MAAA,WAAW,EAAC,EADP;AAEL,MAAA,IAAI,EAAE,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAc,IAAzB,CAFD;AAGL,MAAA,QAAQ,EAAC,EAHJ;AAIL,MAAA,IAAI,EAAE,eAAe,CAAC,IAJjB;AAKL,MAAA,OAAO,EAAC,EALH;AAML,MAAA,QAAQ,EAAC;AANJ,KAAP,CADM,CASR;AACC,GAbY;AAcb,EAAA,OAAO,EAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,MAPM,kBAOE,WAPF,EAOc,IAPd,EAOmB;AACvB;AACA;AACA,WAAK,IAAL,CAAU,IAAV,GAAiB,IAAI,CAAC,IAAtB;AACA,UAAM,QAAO,GAAI,eAAe,CAAC,WAAhB,CAA4B,WAA5B,EAAyC,KAAK,IAA9C,CAAjB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,yBAAuB,IAAI,CAAC,SAAL,CAAe,QAAf,CAAnC,EALuB,CAMvB;AACA;AACA;;AACA,WAAK,IAAL,GAAY,QAAQ,CAAC,IAArB;AACA,WAAK,OAAL,GAAe,QAAQ,CAAC,OAAxB,CAVuB,CAWvB;;AACA,WAAK,QAAL,CAAc,IAAd,CAAmB;AAAC,QAAA,OAAO,EAAC,KAAK,OAAd;AAAuB,QAAA,IAAI,EAAC,KAAK;AAAjC,OAAnB,EAZuB,CAavB;AACA;AAEA;AACA;AAEA;AACA;AACE;AACF;AACA;AACA;;AACA,WAAK,WAAL,GAAmB,EAAnB;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvC,GA1BuB,CA2BvB;AACA;AACA,KApCI,CAqCN;;AArCM;AAdK,CAAf","sourcesContent":["<template>\n        <ul>\n          <li v-for=\"(message, index) in messages\" :key=\"index\">{{ message.message }} from {{message.user.name}} on {{message.user.}}</li>\n        </ul>\n        <form>\n          <label for=\"chatMessage\">Chat Message</label>\n          <input id=\"userName\" type=\"text\" autocomplete=\"off\" v-model=\"this.user.name\"/>\n          <input id=\"chatMessage\" type=\"text\" autocomplete=\"off\" v-model=\"this.chatMessage\"/>\n          <button v-on:click.stop.prevent=\"submit(chatMessage, this.user)\">Send</button>\n        </form>\n\n  <p>Message is: {{ message }}</p>\n  <p>User name is: {{ this.user.name }}</p>\n \n</template>\n\n<script>\n// import { Socket } from 'socket.io-client';\nimport SocketioService from '../../services/socketio.service';\n// console.log('user from SocketioService: '+JSON.stringify(SocketioService.user))\nexport default {\n  name: 'ChatInput',\n  \n  data()  {\n    return { \n      chatMessage:'',\n      room: Math.floor(Math.random()*1000),\n      userName:'',\n      user: SocketioService.user,\n      message:'',\n      messages:[]\n    }\n  //   // return this.chatMessage\n  },\n  methods:{\n    // created(){\n    // const user = SocketioService.socketCreated()\n    // return user},\n    // unmounted(){\n    // SocketioService.disconnect()\n    // },\n    submit (chatMessage,user){ \n      // console.log('received message: '+chatMessage+' user: '+user.name+user.timeStamp)\n      // this.user = SocketioService.user\n      this.user.name = user.name\n      const received = SocketioService.sendMessage(chatMessage, this.user)\n      console.log('received chatInput: '+JSON.stringify(received))\n      // this.messageChat = await SocketioService.sendMessage(chatMessage, this.user)\n      // console.log('user that was sent: '+JSON.stringify(this.user))\n      // console.log('message: '+JSON.stringify(this.messageChat.message))\n      this.user = received.user\n      this.message = received.message;\n      // this.messages = [];\n      this.messages.push({message:this.message, user:this.user});\n      // console.log('messageChat: '+JSON.stringify(this.messageChat))\n      // console.log('user from SocketioService: '+JSON.stringify(SocketioService.user))\n      \n      // this.user = messageChat.user.timeStamp\n      // return this.messages, this.user\n\n      // console.log('messages: '+this.messageChat)\n      // if(messageChat?.message){\n        // chatMessage = messageChat\n      // }\n      // return  chatMessage\n      // }\n      this.chatMessage = '';\n      document.getElementById('chatMessage').focus()\n      // this.messages.push(this.messageChat)\n      // return {message:message, messages:messages}\n      }\n    // receiveMessage:((chatMessage)=>{socketioService.receiveMessage(chatMessage);console.log('message: '+chatMessage)},'')\n  }\n}\n</script>\n"],"sourceRoot":""}]}